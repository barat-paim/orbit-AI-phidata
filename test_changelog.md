# Change Log

## Change #1
The changes:
Updated validator pattern to accept:
General qualifying: /f1/2023/qualifying.json
Driver qualifying: /f1/2023/drivers/hamilton/qualifying.json
Constructor qualifying: /f1/2023/constructors/red_bull/qualifying.json
Query parameter format: /f1/2023/qualifying.json?driver=hamilton
Added constructor-specific qualifying endpoint generation
Made the endpoint builder more selective (using elif to avoid duplicate endpoints)
This should now properly generate and validate qualifying endpoints for Red Bull during 2010-2013.

## Change #2
The issue is with the URL validator pattern for driver standings. Looking at the current pattern and the URL we're trying to generate:
Current pattern:
" 
URL being generated:
"
Let's update the validator pattern to match both formats:
Key changes:
Made the driver/constructor part optional with (drivers/[a-z_]+/)?
Pattern now matches both:
General standings: /f1/2023/driverStandings.json
Driver-specific standings: /f1/2023/drivers/max_verstappen/driverStandings.json
This should now validate the endpoints being generated by the URL builder for driver standings queries. The URL builder is generating the correct URLs, but they were being filtered out by the validator.

## Change #3
The issue is that we need to map the driver IDs in the URL builder before creating the URLs, not just in the validator. Let's update the URL builder to use the driver mapping:
Key changes:
1. Use ErgastEndpointValidator.DRIVER_MAPPINGS to map driver IDs when building URLs.
2. Apply mapping before constructing the URL.
3. Keep the validator's mapping as a backup/safety check.
This way, 'oscar_piastri' will be mapped to 'piastri' when building the URL, resulting in:
json
The validator's mapping then serves as a safety net in case any unmapped IDs make it through.
